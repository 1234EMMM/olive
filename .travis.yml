language: cpp

matrix:
  include:
  - os: linux
    env: ARCH=x86_64
    compiler: gcc
    sudo: require
    dist: trusty
  - os: linux
    env: ARCH=i386
    compiler: gcc
    sudo: require
    dist: trusty
  - os: osx
  - os: windows
    env: ARCH=x86_64

before_install:
  - if [[ "$TRAVIS_OS_NAME" == "windows" ]]; then choco install msys2 -y; else source ./.travis/before_install.sh; fi

install:
  - source ./.travis/install.sh

script:
  - source ./.travis/script.sh

after_success:
  - source ./.travis/after_success.sh
  
branches:
  except:
    - # Do not build tags that we create when we upload to GitHub Releases
    - /^(?i:continuous)/
